<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Dynamic Input Fields with Fixed Add Button</title>
</head>
<body>
    <div class="container mt-5">
        <h2>Add Dynamic Input Fields</h2>
        <form id="dynamicForm">
            <div id="inputContainer" class="mb-3">
                <!-- First default input that cannot be removed -->
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Enter value" aria-label="Enter value">
                </div>
                <!-- Second default input that cannot be removed, but with add button -->
                <div class="input-group mb-3" id="secondInputGroup">
                    <input type="text" class="form-control" placeholder="Enter value" aria-label="Enter value">
                    <button class="btn btn-outline-secondary add-btn" type="button">+</button>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

    <!-- <script>
        document.getElementById('inputContainer').addEventListener('click', function(event) {
            if (event.target.classList.contains('add-btn')) {
                addNewInput(event.target);
            } else if (event.target.classList.contains('remove-btn')) {
                removeInput(event.target);
            }
        });

        function addNewInput(addButton) {
            const newInputGroup = document.createElement('div');
            newInputGroup.className = 'input-group mb-3';
            newInputGroup.innerHTML = `
                <input type="text" class="form-control" placeholder="Enter value" aria-label="Enter value">
                <button class="btn btn-outline-danger remove-btn" type="button">-</button>
                <button class="btn btn-outline-secondary add-btn" type="button">+</button>
            `;

            const container = document.getElementById('inputContainer');
            container.appendChild(newInputGroup);

            // Move the add button to the new input group and remove from current position
            addButton.remove();
        }

        function removeInput(removeButton) {
            const inputGroup = removeButton.closest('.input-group');
            inputGroup.remove();
            
            // Ensure the add button is always on the last input group after removal
            const container = document.getElementById('inputContainer');
            const allInputGroups = container.querySelectorAll('.input-group');
            const lastInputGroup = allInputGroups[allInputGroups.length - 1];
            const addButton = lastInputGroup.querySelector('.add-btn');

            if (!addButton) {
                const newAddButton = document.createElement('button');
                newAddButton.className = 'btn btn-outline-secondary add-btn';
                newAddButton.textContent = '+';
                newAddButton.type = 'button';
                lastInputGroup.appendChild(newAddButton);
            }
        }
    </script> -->

    <script type="module" src="../../../JS/main.js"></script>
    <script type="module" src="./buildCv.js"></script>
</body>
</html>
